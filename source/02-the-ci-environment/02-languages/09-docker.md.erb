---
title:  "Docker"
doc_title: "Using Docker on Snap CI"
---

Docker support on Snap CI is in beta and is only enabled for some users. If you would like to try these features please contact us at <a href=""mailto:support@snap-ci.com">Snap CI support</a>.

Snap CI provides support for building, testing and deploying Docker images. You can use the commands listed at <a href="https://docs.docker.com/engine/reference/commandline/cli/">docs.docker.com</a> to use Docker on Snap CI.

Snap CI provides the following Docker versions 

<%#add partial%>

# Building, testing and deploying Docker containers on Snap CI

In this project example we build a simple Docker container for a dummy NodeJS app, run and test it before publishing to a registry.

This example: 

* Builds a Docker image based on the steps in its Dockerfile 
* Creates a new container based on that image with the Docker run command and starts the app inside it
* Runs a simple test against the container
* Deploys the freshly built image to DockerHub

## Get setup

Sign up for:

* <a href="http://www.github.com/">Github</a> and validate your email address

* <a href="http://www.dockerhub.com/">Heroku</a> 

* <a href="http://www.snap-ci.com/">Snap CI</a> and authorize Snap CI to access your Github account

## Fork the sample repository

* Login to Github and fork <a href="https://github.com/snap-ci-examples/node-js-docker">snap-ci-examples/node-js-docker</a>

* You should now see the snap-ci-examples/node-js-docker as one of your Github repositories as: github-userid/node-js-docker

## Add forked repository to Snap CI

* Go to <a href="http://www.snap-ci.com/">Snap CI</a>

* Add the node-js-docker build. The build should start and run the two default stages - FastFeedback and Integration.

## Customise your build

* Select “Customize it here”


## Your app is deployed to Heroku using Snap CI



<%#Need to add steps here%>
<%#Add image of pipeline%>
<%#Add image of stage config%>

You can see this pipeline running on <a href="https://snap-ci.com/snap-ci-examples/node-js-docker/branch/master">Snap CItema</a>.

# Known limitations

## Propagating Docker images between stages

Currently, we use the same build worker to run successive automatic stages whenever possible but there are scenarios where this might not happen which means that Docker images built in one stage might not be available in the next stage unless published to a registry. We have plans to provide first class support for Docker image propagation on the pipeline similar to artifact propagation but for now we recommend publishing the images built in a stage to a Docker registry so that they can be used in subsequent stages.

## Parallel and bigger sized workers

Selecting bigger sized workers or parallel workers for your build doesn't have any effect at the moment. The build will run on the single worker size and parallel configurations will run sequentially.

# FAQ

## Why do I need to contact you for Docker support?

Docker support is still early access and is not generally available. To ensure the best possible experience with Snap CI’s Docker support we would like to help you along the way. Once Docker is generally available you will no longer need to contact us. 

## How do I get Docker support? 

Sign Up for Snap CI and “talk to us”. Let us know you want access to Docker and we will help you from there. 

## Which Docker commands do you support?

All of ‘em. Checkout Docker’s helpful <a href="https://docs.docker.com/engine/reference/commandline/cli/">docs.docker.com</a> for all the details on how to use.

## How do I get started with Snap and Docker?

We suggest that you use one of our public repos to create an example Docker pipeline. 

## Do I have to pay extra for Docker support?

Nope. Every new build environment on Snap allows you access to Docker commands. Whether you are free plan user or a user using 20+ workers you can use Docker on Snap.’

## I’m an existing Snap user. Can my build use Docker? 

Yes and no. In order to offer Docker support you will need to be on our new Ubuntu build environment. Please contact us via “talk to us” to understand more about moving builds to Ubuntu. 

## How is the build for Docker support different than older Snap CI builds?

Docker support is on Ubuntu build containers instead of CentOS that we previously used on snap-ci.com.

## How did you build this?

Building Docker support on Snap CI posed many interesting technical challenges. You can read about it more on our blog series on Docker.

## Which Docker registries can I deploy to? 

We allow Snap builds to execute Docker commands. Although we have not tested everything we confident that you'd able to use any registry that supports the standard Docker commands such as Google Docker Registry, etc...


